:root{
  --bg:#0f1720; --panel:#0b1220; --muted:#9aa4b2; --accent:#4f46e5; --me:#052f2f; --ai:#042f4f;
}
body{margin:0;font-family:Inter,Segoe UI,Arial,Helvetica,sans-serif;background:var(--bg);color:#e6eef6}
.app{display:flex;height:100vh}
.sidebar{width:280px;background:#071124;padding:20px;box-sizing:border-box;border-right:1px solid rgba(255,255,255,0.03)}
.sidebar h3{margin:0 0 12px 0}
.sidebar-actions button{display:block;width:100%;margin-bottom:8px;padding:8px;background:#0b2a3a;border:0;color:#cfe7ff;border-radius:6px}
.uploads{margin-top:12px}
.uploaded-list{margin-top:8px}
.main{flex:1;display:flex;flex-direction:column}
.chat{flex:1;padding:20px;overflow:auto;display:flex;flex-direction:column;gap:6px}
.bubble{max-width:70%;padding:12px 16px;margin:6px;border-radius:12px;line-height:1.4;box-shadow:0 4px 14px rgba(2,6,23,0.6)}
.bubble .bubble-text{white-space:pre-wrap;word-break:break-word}
.bubble.me{margin-left:auto;background:linear-gradient(90deg,#074a45,#046b6a);color:#eafffb}
.bubble.ai{margin-right:auto;background:linear-gradient(90deg,#053b5a,#07406d);color:#e6f3ff}
.composer{display:flex;padding:12px;border-top:1px solid rgba(255,255,255,0.03);gap:8px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent)}
#message{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:#071826;color:#e6eef6}
#message:focus{outline:none;box-shadow:0 0 0 3px rgba(79,70,229,0.14)}
#send{padding:10px 14px;border-radius:12px;border:none;background:linear-gradient(90deg,#6d28d9,#4f46e5);color:white;display:flex;align-items:center;justify-content:center}

/* Attachment button near the composer */
.attach-btn{background:transparent;border:0;color:var(--muted);display:flex;align-items:center;justify-content:center;padding:6px;border-radius:8px;margin-right:6px;cursor:pointer}
.attach-btn svg{opacity:0.9}
.attach-btn:hover{color:#cfe7ff}

/* composer uploaded list */
.composer-uploaded-list{display:flex;gap:8px;align-items:center;margin-right:8px}
.composer-uploaded-list .file-chip{background:rgba(255,255,255,0.02);padding:6px 8px}
.composer-uploaded-list .file-chip .remove{margin-left:8px;cursor:pointer;color:rgba(255,255,255,0.4)}

/* Visual hint when dragging a file over the message input */
.composer textarea.drop-over, .composer textarea:hover.drop-over{box-shadow:0 0 0 3px rgba(79,70,229,0.12);border-color:rgba(79,70,229,0.7)}

/* Animated liquid-like pulse for send button */
.send-btn{position:relative;overflow:hidden}
.send-btn::before{content:'';position:absolute;inset:-50%;background:radial-gradient(circle at 10% 30%, rgba(255,255,255,0.06), transparent 20%), linear-gradient(90deg,#7c3aed,#4f46e5);opacity:0.8;transform:translateX(-80%);transition:transform .9s cubic-bezier(.2,.9,.2,1)}
.send-btn:hover::before{transform:translateX(0)}

.composer .input-area{display:flex;gap:8px;width:100%}
.composer textarea{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;resize:none}
.timestamp{display:block;font-size:11px;color:var(--muted);margin-top:6px}
.meta{font-size:12px;color:var(--muted);margin-top:6px}

.typing{font-style:italic;color:var(--muted)}

/* System / non-agent messages inside chat bubbles */
.bubble.meta{font-style:italic;font-size:0.85rem;color:var(--muted);opacity:0.95;max-width:70%;padding:10px 14px;background:linear-gradient(90deg,#08394a,#0b3f57);border-radius:10px}
.file-chip{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;background:rgba(255,255,255,0.02);border-radius:8px;margin-right:6px}
.file-chip img{max-height:28px;border-radius:4px}

/* Inline meta text shown inside a bubble (small italic completion note) */
.bubble .inline-meta{display:block;font-style:italic;font-size:0.85rem;color:var(--muted);margin-top:6px}